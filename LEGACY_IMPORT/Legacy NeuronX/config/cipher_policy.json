{
  "version": "1.0.0",
  "description": "NeuronX Cipher Safety Policy - Initial Controlled Activation",
  "effectiveDate": "2026-01-03",
  "lastUpdated": "2026-01-03",
  "owner": "Engineering Team",
  "contact": "security@neuronx.ai",

  "policy": {
    "enabled": false,
    "mode": "monitor",
    "scope": {
      "description": "Minimal initial scope for Phase 4B preparation",
      "allowedOperations": [
        "lead_qualification_check",
        "lead_routing_decision"
      ],
      "disallowedOperations": [
        "direct_crm_modification",
        "bulk_data_export",
        "user_permission_changes",
        "system_configuration_modification"
      ]
    },

    "checkpoints": {
      "lead_qualification": {
        "enabled": true,
        "description": "Check before applying qualification threshold to scored leads",
        "triggerEvents": ["sales.lead.scored"],
        "requiredContext": ["leadId", "score", "leadData", "tenantId"],
        "decisionTypes": ["allow", "deny", "suggest_threshold_adjustment"],
        "fallbackBehavior": "allow_with_logging"
      },

      "lead_routing": {
        "enabled": true,
        "description": "Check before routing qualified leads to teams",
        "triggerEvents": ["sales.lead.qualified"],
        "requiredContext": [
          "leadId",
          "qualificationResult",
          "routingCandidates",
          "tenantId"
        ],
        "decisionTypes": ["allow", "deny", "suggest_alternative_routing"],
        "fallbackBehavior": "allow_with_logging"
      }
    },

    "decisionRules": {
      "scoreAnomalyDetection": {
        "description": "Flag leads with unusually high or low scores for review",
        "conditions": {
          "scoreDeviationThreshold": 2.0,
          "minimumSampleSize": 100
        },
        "action": "flag_for_review"
      },

      "industryRiskAssessment": {
        "description": "Apply additional scrutiny to high-risk industries",
        "highRiskIndustries": ["cryptocurrency", "gambling", "pharmaceuticals"],
        "action": "require_additional_review"
      },

      "companySizeValidation": {
        "description": "Validate company size data against known ranges",
        "maxReasonableSize": 100000,
        "minReasonableSize": 1,
        "action": "flag_if_outlier"
      }
    },

    "logging": {
      "enabled": true,
      "level": "info",
      "includeContext": true,
      "excludeFields": ["passwords", "tokens", "secrets", "personalData"],
      "retentionDays": 90,
      "alertThresholds": {
        "deniedDecisionsPerHour": 10,
        "anomalyFlagsPerHour": 5
      }
    },

    "emergency": {
      "circuitBreakerEnabled": true,
      "maxConsecutiveFailures": 5,
      "failureWindowMinutes": 10,
      "autoDisableOnFailure": true,
      "notificationRecipients": [
        "security@neuronx.ai",
        "engineering@neuronx.ai"
      ]
    }
  },

  "metadata": {
    "businessJustification": "Enable controlled AI safety layer before expanding intelligence features",
    "riskAssessment": "Low - monitor mode only, with easy rollback",
    "rollbackPlan": "Set policy.enabled to false, restart services",
    "testingRequirements": "Unit tests for all decision paths, integration tests for checkpoints",
    "monitoringPlan": "Log analysis for decision patterns, alert on anomalies"
  }
}
