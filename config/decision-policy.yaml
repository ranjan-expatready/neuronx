# Decision Policy Configuration - WI-042
# Enterprise-grade decision thresholds and rules for NeuronX
# All values are configurable and auditable

version: '1.0.0'
description: 'Production decision policy for NeuronX sales execution'

# Default enforcement mode for decision engine
enforcementMode: 'monitor_only'

# Core risk thresholds for actor selection and approval requirements
riskThresholds:
  aiAllowed: 'MEDIUM' # AI can execute up to MEDIUM risk
  humanRequired: 'HIGH' # HIGH+ risk requires human execution
  approvalRequired: 'CRITICAL' # CRITICAL risk requires approval

# Deal value thresholds affecting risk assessment ($)
dealValueThresholds:
  low: 10000 # <$10K = LOW risk
  medium: 100000 # $10K-$100K = MEDIUM risk
  high: 100000 # >$100K = HIGH risk

# SLA urgency to risk level mapping
slaUrgencyMapping:
  low: 'LOW' # Low urgency = LOW risk
  normal: 'MEDIUM' # Normal urgency = MEDIUM risk
  high: 'HIGH' # High urgency = HIGH risk
  critical: 'CRITICAL' # Critical urgency = CRITICAL risk

# Voice mode selection rules
voiceModeRules:
  scriptedRequired: 'HIGH' # HIGH+ risk requires scripted voice
  conversationalAllowed: 'LOW' # Only LOW risk allows conversational

# Voice execution constraints
voiceConstraints:
  maxDurationMinutes: 15 # Maximum 15-minute voice calls
  scriptedConfidenceThreshold: 0.8 # 80% confidence required for scripted
  conversationalRiskLimit: 'LOW' # Only LOW risk allows conversational

# Actor selection rules
actorSelectionRules:
  aiConfidenceThreshold: 0.7 # 70% confidence minimum for AI execution
  hybridActorThreshold: 0.5 # <50% confidence triggers hybrid mode
  humanFallbackEnabled: true # Enable human fallback for low-confidence AI

# Execution mode selection rules
executionModeRules:
  autonomousMaxRisk: 'LOW' # Only LOW risk allows autonomous execution
  assistedMinRisk: 'MEDIUM' # MEDIUM+ risk requires assisted execution
  approvalMinRisk: 'HIGH' # HIGH+ risk requires approval
  hybridAlwaysAssisted: true # Hybrid actors always require assistance

# Escalation rules
escalationRules:
  criticalRiskAlwaysEscalate: true # CRITICAL risk always escalates
  highValueDealThreshold: 100000 # >$100K deals always escalate
  retryCountEscalationThreshold: 3 # >3 retries triggers escalation
  slaCriticalEscalation: true # Critical SLA always escalates

# Retry limits before escalation or human override
retryLimits:
  beforeEscalation: 3 # Escalate after 3 retries
  beforeHumanOverride: 5 # Human override after 5 retries

# Feature flags for gradual rollout
features:
  voiceExecution: true # Enable voice execution
  aiActors: true # Enable AI actors
  hybridActors: true # Enable hybrid actors
  riskAssessment: true # Enable risk assessment
  escalationWorkflow: true # Enable escalation workflow

# Policy metadata for audit trail
metadata:
  createdAt: '2026-01-05T00:00:00Z'
  createdBy: 'NeuronX Engineering Team'
  lastModified: '2026-01-05T00:00:00Z'
  lastModifiedBy: 'Cursor Agent (WI-042)'
  changeReason: 'Initial extraction of hardcoded decision thresholds into policy configuration'
